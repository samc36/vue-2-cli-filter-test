(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["dashboard"],{"0c4a":function(t,e,s){},"1dde":function(t,e,s){var o=s("d039"),a=s("b622"),r=s("2d00"),i=a("species");t.exports=function(t){return r>=51||!o((function(){var e=[],s=e.constructor={};return s[i]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"4de4":function(t,e,s){"use strict";var o=s("23e7"),a=s("b727").filter,r=s("1dde"),i=r("filter");o({target:"Array",proto:!0,forced:!i},{filter:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},7277:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-row",[s("b-col",[s("h1",[t._v("Dashboard")])])],1),s("b-row",t._l(t.widgets.data,(function(t){return s("b-col",{key:t.id,attrs:{cols:"12",lg:"6"}},[s("Widget",{attrs:{widget:t}})],1)})),1)],1)},a=[],r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("b-card",{class:{expanded:t.isExpanded},attrs:{"header-tag":"header"},scopedSlots:t._u([{key:"header",fn:function(){return[s("div",{staticClass:"card-header-left"},[s("h6",{staticClass:"mb-0"},[s("b-link",{attrs:{to:t.widget.url}},[s("b-icon",{attrs:{icon:t.widget.icon}}),t._v(" "+t._s(t.widget.name)+" ")],1)],1)]),s("div",{staticClass:"card-header-right"},[s("b-button",{attrs:{variant:"light"}},[s("b-icon",{attrs:{icon:"arrow-repeat","aria-label":"Refresh"}})],1),s("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:"widget-body-"+t.widget.id,expression:"'widget-body-' + widget.id"}],attrs:{variant:"light"}},[s("b-icon",{attrs:{icon:"chevron-down","aria-label":"Help"}})],1),s("b-button",{attrs:{variant:"light"},on:{click:function(e){t.isExpanded=!t.isExpanded}}},[s("b-icon",{attrs:{icon:t.isExpanded?"arrows-angle-contract":"arrows-angle-expand","aria-label":"Expand"}})],1)],1)]},proxy:!0}])},[s("b-collapse",{staticClass:"widget-card-body mt-2",attrs:{id:"widget-body-"+t.widget.id}},[s("b-tabs",{attrs:{"content-class":"mt-3"}},[s("b-tab",{attrs:{title:"Overview",active:""}},[t.totalRows>1?s("b-row",[s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Sort","label-for":"sort-by-select","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-select",{staticClass:"w-75",attrs:{id:"sort-by-select",options:t.sortOptions,"aria-describedby":o},scopedSlots:t._u([{key:"first",fn:function(){return[s("option",{attrs:{value:""}},[t._v("-- none --")])]},proxy:!0}],null,!0),model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}}),s("b-form-select",{staticClass:"w-25",attrs:{disabled:!t.sortBy,"aria-describedby":o,size:"sm"},model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[s("option",{domProps:{value:!1}},[t._v("Asc")]),s("option",{domProps:{value:!0}},[t._v("Desc")])])],1)]}}],null,!1,3896119748)})],1),s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Initial sort","label-for":"initial-sort-select","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[s("b-form-select",{attrs:{id:"initial-sort-select",options:["asc","desc","last"],size:"sm"},model:{value:t.sortDirection,callback:function(e){t.sortDirection=e},expression:"sortDirection"}})],1)],1),s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter","label-for":"filter-input","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"}},[s("b-input-group",{attrs:{size:"sm"}},[s("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("b-input-group-append",[s("b-button",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{lg:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Filter On",description:"Leave all unchecked to filter on all data","label-cols-sm":"3","label-align-sm":"right","label-size":"sm"},scopedSlots:t._u([{key:"default",fn:function(e){var o=e.ariaDescribedby;return[s("b-form-checkbox-group",{staticClass:"mt-1",attrs:{"aria-describedby":o},model:{value:t.filterOn,callback:function(e){t.filterOn=e},expression:"filterOn"}},[s("b-form-checkbox",{attrs:{value:"name"}},[t._v("Name")]),s("b-form-checkbox",{attrs:{value:"age"}},[t._v("Age")]),s("b-form-checkbox",{attrs:{value:"isActive"}},[t._v("Active")])],1)]}}],null,!1,1942601582),model:{value:t.sortDirection,callback:function(e){t.sortDirection=e},expression:"sortDirection"}})],1),s("b-col",{staticClass:"my-1",attrs:{sm:"5",md:"6"}},[s("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[s("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1),s("b-col",{staticClass:"my-1",attrs:{sm:"7",md:"6"}})],1):t._e(),s("b-table",{attrs:{items:t.tableContent.data,fields:t.widgetContent.table.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,responsive:"true",striped:"",hover:"","show-empty":"",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(html)",fn:function(e){return[s("span",{domProps:{innerHTML:t._s(e.value)}})]}},{key:"cell(name)",fn:function(e){return[s("span",{domProps:{innerHTML:t._s(e.value.first)}}),s("span",{domProps:{innerHTML:t._s(e.value.last)}})]}},{key:"cell(actions)",fn:function(e){return[s("b-button",{staticClass:"mr-1",attrs:{size:"sm"},on:{click:function(s){return t.info(e.item,e.index,s.target)}}},[t._v(" Info modal ")]),s("b-button",{attrs:{size:"sm"},on:{click:e.toggleDetails}},[t._v(" "+t._s(e.detailsShowing?"Hide":"Show")+" Details ")])]}},{key:"row-details",fn:function(e){return[s("b-card",[s("ul",t._l(e.item,(function(e,o){return s("li",{key:o},[t._v(" "+t._s(o)+": "+t._s(e)+" ")])})),0)])]}}])}),s("b-modal",{attrs:{id:t.infoModal.id,title:t.infoModal.title,"ok-only":""},on:{hide:t.resetInfoModal}},[s("pre",[t._v(t._s(t.infoModal.content))])]),t.totalRows>1?s("b-row",[s("b-col",{attrs:{cols:"6"}},[s("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),s("b-col",{attrs:{cols:"6"}},[s("p",{staticClass:"mt-3"},[t._v("Current Page: "+t._s(t.currentPage))])])],1):t._e()],1),s("b-tab",{attrs:{title:"Client Forms"}},[s("p",[t._v("I'm the Client Forms tab")])]),s("b-tab",{attrs:{title:"Analytics"}},[s("p",[t._v("I'm the Analytics tab!")])])],1)],1)],1)],1)},i=[],n=(s("d81d"),s("4de4"),s("b0c0"),{name:"Widget",props:{widget:{type:Object,required:!0}},data:function(){return{isExpanded:!1,totalRows:1,currentPage:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],infoModal:{id:"info-modal",title:"",content:""}}},computed:{widgetContent:function(){return this.$store.getters.WidgetContentById(this.widget.id)},tableContent:function(){return this.$store.getters.TableContentById(this.widget.table)},sortOptions:function(){return this.widgetContent.table.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.name,value:t.name}}))}},mounted:function(){this.$store.dispatch("getWidgetsContent"),this.$store.dispatch("getWidgetTables"),this.totalRows=this.tableContent.data.length,console.log("Total Rows in Mounted"),console.log(this.tableContent.data.length)},methods:{info:function(t,e,s){this.infoModal.title="Row index: ".concat(e),this.infoModal.content=JSON.stringify(t,null,2),this.$root.$emit("bv::show::modal",this.infoModal.id,s)},resetInfoModal:function(){this.infoModal.title="",this.infoModal.content=""},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}}),l=n,c=(s("c276"),s("2877")),d=Object(c["a"])(l,r,i,!1,null,"736c3bda",null),u=d.exports,b={name:"Dashboard",components:{Widget:u},computed:{widgets:function(){return this.$store.getters.allWidgets}},mounted:function(){this.$store.dispatch("getWidgets")}},f=b,p=Object(c["a"])(f,o,a,!1,null,null,null);e["default"]=p.exports},b0c0:function(t,e,s){var o=s("83ab"),a=s("9bf2").f,r=Function.prototype,i=r.toString,n=/^\s*function ([^ (]*)/,l="name";o&&!(l in r)&&a(r,l,{configurable:!0,get:function(){try{return i.call(this).match(n)[1]}catch(t){return""}}})},c276:function(t,e,s){"use strict";s("0c4a")},d81d:function(t,e,s){"use strict";var o=s("23e7"),a=s("b727").map,r=s("1dde"),i=r("map");o({target:"Array",proto:!0,forced:!i},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})}}]);
//# sourceMappingURL=dashboard.6971aa8d.js.map